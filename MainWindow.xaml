<Window x:Class="AMICUS.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:AMICUS"
        mc:Ignorable="d"
        Title="Amicus"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        WindowState="Maximized"
        ResizeMode="NoResize"
        Loaded="Window_Loaded">
    <Grid x:Name="MainCanvas" Background="Transparent">
        <!-- House UI Panel (Bottom-right corner) -->
        <Border x:Name="HousePanel"
                Width="250"
                Height="492"
                Background="#F0F0F0"
                BorderBrush="#333"
                BorderThickness="2"
                CornerRadius="10"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Margin="0,0,20,60"
                Visibility="Collapsed">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Header -->
                <Border Grid.Row="0" Background="#4A90E2" Padding="10">
                    <Grid>
                        <TextBlock Text="Amicus's House"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   HorizontalAlignment="Left"/>
                        <Button x:Name="CloseHouseButton"
                                Content="✕"
                                Width="30"
                                Height="30"
                                Background="Transparent"
                                BorderThickness="0"
                                Foreground="White"
                                FontSize="18"
                                HorizontalAlignment="Right"
                                Click="CloseHouseButton_Click"
                                Cursor="Hand"/>
                    </Grid>
                </Border>

                <!-- Needs Meters -->
                <StackPanel Grid.Row="1" Margin="15,15,15,10">
                    <TextBlock Text="Needs" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>

                    <!-- Hunger -->
                    <TextBlock Text="Hunger" FontSize="12" Margin="0,5,0,3"/>
                    <ProgressBar x:Name="HungerBar" Height="20" Minimum="0" Maximum="100" Value="75"/>

                    <!-- Cleanliness -->
                    <TextBlock Text="Cleanliness" FontSize="12" Margin="0,10,0,3"/>
                    <ProgressBar x:Name="CleanlinessBar" Height="20" Minimum="0" Maximum="100" Value="85"/>

                    <!-- Happiness -->
                    <TextBlock Text="Happiness" FontSize="12" Margin="0,10,0,3"/>
                    <ProgressBar x:Name="HappinessBar" Height="20" Minimum="0" Maximum="100" Value="90"/>
                </StackPanel>

                <!-- Action Buttons -->
                <StackPanel Grid.Row="2" Margin="15,10,15,15" VerticalAlignment="Bottom">
                    <Button Content="Feed"
                            Height="35"
                            Margin="0,5"
                            Background="#4CAF50"
                            Foreground="White"
                            BorderThickness="0"
                            FontSize="14"
                            Cursor="Hand"
                            Click="FeedButton_Click"/>
                    <Button Content="Clean"
                            Height="35"
                            Margin="0,5"
                            Background="#2196F3"
                            Foreground="White"
                            BorderThickness="0"
                            FontSize="14"
                            Cursor="Hand"
                            Click="CleanButton_Click"/>
                    <Button Content="Play"
                            Height="35"
                            Margin="0,5"
                            Background="#FF9800"
                            Foreground="White"
                            BorderThickness="0"
                            FontSize="14"
                            Cursor="Hand"
                            Click="PlayButton_Click"/>
                    <Button Content="Exit Application"
                            Height="35"
                            Margin="0,15,0,5"
                            Background="#F44336"
                            Foreground="White"
                            BorderThickness="0"
                            FontSize="14"
                            Cursor="Hand"
                            Click="ExitButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Toggle House Button (Bottom-right corner) -->
        <Button x:Name="ToggleHouseButton"
                Content="🏠"
                Width="50"
                Height="50"
                Background="#4A90E2"
                BorderThickness="0"
                FontSize="24"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Margin="0,0,20,60"
                Click="ToggleHouseButton_Click"
                Cursor="Hand">
            <Button.Effect>
                <DropShadowEffect BlurRadius="10" ShadowDepth="3" Opacity="0.5"/>
            </Button.Effect>
        </Button>

        <!-- Pet will be rendered here (on top of everything else) -->
        <Canvas x:Name="PetCanvas">
            <Image x:Name="PetImage"
                   Width="91"
                   Height="91"
                   RenderOptions.BitmapScalingMode="NearestNeighbor"
                   MouseLeftButtonDown="PetImage_MouseLeftButtonDown"
                   MouseLeftButtonUp="PetImage_MouseLeftButtonUp"
                   MouseMove="PetImage_MouseMove"
                   Cursor="Hand"/>
        </Canvas>
    </Grid>
</Window>
